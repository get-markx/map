{"version":3,"file":"testpage-c3bf6750.js","sources":["../../node_modules/@workadventure/quests/dist/quests.js","../../src/test_quest.js"],"sourcesContent":["let r = \"https://admin.workadventu.re\";\nfunction c(e) {\n  r = e;\n}\nfunction n() {\n  const e = WA.player.userRoomToken;\n  if (e === void 0)\n    throw new Error(\n      \"No userRoomToken found. The quests plugin can only work with WorkAdventure SAAS edition (at https://play.workadventu.re).\"\n    );\n  return e;\n}\nasync function d(e) {\n  const t = new URL(`/api/quests/${e}`, r);\n  t.search = new URLSearchParams({ room: WA.room.id }).toString();\n  const o = await fetch(t, {\n    method: \"GET\",\n    headers: {\n      Authorization: n()\n    }\n  });\n  if (!o.ok)\n    throw new Error(`An error occurred. HTTP Code: ${o.status} ${o.statusText}.`);\n  return await o.json();\n}\nasync function w(e) {\n  const t = new URL(`/api/quests/${e}/leaderboard`, r);\n  t.search = new URLSearchParams({ room: WA.room.id }).toString();\n  const o = await fetch(t, {\n    method: \"GET\",\n    headers: {\n      Authorization: n()\n    }\n  });\n  if (!o.ok)\n    throw new Error(`An error occurred. HTTP Code: ${o.status} ${o.statusText}.`);\n  return await o.json();\n}\nfunction h(e) {\n  const t = new URL(`/quests/${e}/leaderboard`, r);\n  return t.search = new URLSearchParams({ room: WA.room.id, token: n() }).toString(), t;\n}\nasync function l(e, t) {\n  if (!WA.player.isLogged)\n    throw new Error(\"You must be logged to gain XP.\");\n  const o = new URL(`/api/quests/${e}/level-up`, r), a = await fetch(o, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: n()\n    },\n    body: JSON.stringify({ xp: t })\n  });\n  if (!a.ok)\n    throw new Error(`An error occurred. HTTP Code: ${a.status} ${a.statusText}.`);\n  const s = await a.json();\n  return s.awardedBadges.length > 0 && (async () => {\n    for (const i of s.awardedBadges)\n      await u(e, i);\n  })().catch((i) => {\n    console.error(i);\n  }), s;\n}\nasync function u(e, t) {\n  const o = new URL(`/quests/${e}/badge/${t}/congratulations`, r);\n  o.search = new URLSearchParams({ token: n() }).toString(), await WA.ui.website.open({\n    url: o.toString(),\n    position: {\n      vertical: \"middle\",\n      horizontal: \"middle\"\n    },\n    allowApi: !0,\n    visible: !0,\n    size: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  });\n}\nexport {\n  w as getLeaderboard,\n  h as getLeaderboardURL,\n  d as getQuest,\n  l as levelUp,\n  c as setQuestBaseUrl\n};\n","import {levelUp} from \"@workadventure/quests\";\n\n\n\n(async () => {\n    await WA.onInit();\n\n    console.log('Current player name: ', WA.player.name);\n    console.log(\"Assign 10 xp once\")\n    levelUp(\"TIME_SPENT_IN_THE_GAME\", 10).catch(e => console.error(e));\n\n\n    const quest =  getQuest(\"TIME_SPENT_IN_THE_GAME\");\n    console.log(quest)\n})();\n"],"names":["r","n","e","t","o","a","s","i","levelUp","quest"],"mappings":"ssBAAA,IAAIA,EAAI,+BAIR,SAASC,GAAI,CACX,MAAMC,EAAI,GAAG,OAAO,cACpB,GAAIA,IAAM,OACR,MAAM,IAAI,MACR,2HACN,EACE,OAAOA,CACT,CA+BA,eAAe,EAAEA,EAAGC,EAAG,CACrB,GAAI,CAAC,GAAG,OAAO,SACb,MAAM,IAAI,MAAM,gCAAgC,EAClD,MAAMC,EAAI,IAAI,IAAI,eAAeF,CAAC,YAAaF,CAAC,EAAGK,EAAI,MAAM,MAAMD,EAAG,CACpE,OAAQ,OACR,QAAS,CACP,OAAQ,mBACR,eAAgB,mBAChB,cAAeH,EAAG,CACnB,EACD,KAAM,KAAK,UAAU,CAAE,GAAIE,CAAC,CAAE,CAClC,CAAG,EACD,GAAI,CAACE,EAAE,GACL,MAAM,IAAI,MAAM,iCAAiCA,EAAE,MAAM,IAAIA,EAAE,UAAU,GAAG,EAC9E,MAAMC,EAAI,MAAMD,EAAE,OAClB,OAAOC,EAAE,cAAc,OAAS,IAAM,SAAY,CAChD,UAAWC,KAAKD,EAAE,cAChB,MAAM,EAAEJ,EAAGK,CAAC,CAClB,KAAO,MAAOA,GAAM,CAChB,QAAQ,MAAMA,CAAC,CAChB,CAAA,EAAGD,CACN,CACA,eAAe,EAAEJ,EAAGC,EAAG,CACrB,MAAMC,EAAI,IAAI,IAAI,WAAWF,CAAC,UAAUC,CAAC,mBAAoBH,CAAC,EAC9DI,EAAE,OAAS,IAAI,gBAAgB,CAAE,MAAOH,EAAG,CAAA,CAAE,EAAE,SAAU,EAAE,MAAM,GAAG,GAAG,QAAQ,KAAK,CAClF,IAAKG,EAAE,SAAU,EACjB,SAAU,CACR,SAAU,SACV,WAAY,QACb,EACD,SAAU,GACV,QAAS,GACT,KAAM,CACJ,MAAO,OACP,OAAQ,MACT,CACL,CAAG,CACH,EC3EC,SAAY,CACT,MAAM,GAAG,SAET,QAAQ,IAAI,wBAAyB,GAAG,OAAO,IAAI,EACnD,QAAQ,IAAI,mBAAmB,EAC/BI,EAAQ,yBAA0B,EAAE,EAAE,MAAMN,GAAK,QAAQ,MAAMA,CAAC,CAAC,EAGjE,MAAMO,EAAS,SAAS,wBAAwB,EAChD,QAAQ,IAAIA,CAAK,CACrB,GAAI","x_google_ignoreList":[0]}